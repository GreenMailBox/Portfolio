<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fun Maze Game</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            overflow: hidden;
            background-color: #222;
            color: #fff;
            font-family: Arial, sans-serif;
            text-align: center;
        }
        canvas {
            display: block;
            margin: auto;
            border: 5px solid #fff;
            background-color: #111;
        }
        #info {
            position: absolute;
            top: 10px;
            left: 10px;
        }
    </style>
</head>
<body>
    <div id="info">
        <p>Time: <span id="time">0</span> seconds</p>
        <p>Score: <span id="score">0</span></p>
    </div>
    <canvas id="canvas" width="400" height="400"></canvas>

    <script>
        const canvas = document.getElementById('canvas');
        const ctx = canvas.getContext('2d');

        const maze = [
            [1, 1, 1, 1, 1, 1, 1, 1, 1, 1],
            [1, 0, 0, 0, 0, 1, 0, 0, 0, 1],
            [1, 1, 1, 1, 0, 1, 0, 1, 0, 1],
            [1, 0, 0, 1, 0, 0, 0, 1, 0, 1],
            [1, 1, 0, 0, 0, 1, 1, 1, 0, 1],
            [1, 0, 0, 1, 0, 0, 0, 0, 0, 1],
            [1, 0, 1, 1, 1, 1, 1, 1, 1, 1],
            [1, 0, 0, 0, 0, 0, 0, 0, 0, 1],
            [1, 1, 1, 1, 1, 1, 1, 1, 0, 1],
            [1, 1, 1, 1, 1, 1, 1, 1, 1, 1]
        ];

        const tileSize = 40;
        const playerSize = 30;
        let playerX = tileSize / 2;
        let playerY = tileSize / 2;
        let goalX = (maze[0].length - 1) * tileSize - tileSize / 2;
        let goalY = (maze.length - 1) * tileSize - tileSize / 2;
        let score = 0;
        let startTime;

        function draw() {
            // Clear the canvas
            ctx.clearRect(0, 0, canvas.width, canvas.height);

            // Draw maze
            ctx.fillStyle = '#999';
            for (let y = 0; y < maze.length; y++) {
                for (let x = 0; x < maze[y].length; x++) {
                    if (maze[y][x] === 1) {
                        ctx.fillRect(x * tileSize, y * tileSize, tileSize, tileSize);
                    }
                }
            }

            // Draw goal
            ctx.fillStyle = '#00ff00';
            ctx.fillRect(goalX - playerSize / 2, goalY - playerSize / 2, playerSize, playerSize);

            // Draw player
            ctx.fillStyle = '#ff0000';
            ctx.fillRect(playerX - playerSize / 2, playerY - playerSize / 2, playerSize, playerSize);

            // Update score
            document.getElementById('score').textContent = score;
        }

        function movePlayer(dx, dy) {
            const newX = playerX + dx;
            const newY = playerY + dy;

            // Check if new position is within the maze boundaries and not hitting a wall
            if (newX >= playerSize / 2 && newX <= canvas.width - playerSize / 2 &&
                newY >= playerSize / 2 && newY <= canvas.height - playerSize / 2 &&
                maze[Math.floor(newY / tileSize)][Math.floor(newX / tileSize)] === 0) {
                playerX = newX;
                playerY = newY;
                checkGoal();
            }
        }

        function checkGoal() {
            if (playerX === goalX && playerY === goalY) {
                score++;
                resetPlayer();
            }
        }

        function resetPlayer() {
            playerX = tileSize / 2;
            playerY = tileSize / 2;
        }

        function updateTime() {
            const currentTime = Math.floor((Date.now() - startTime) / 1000);
            document.getElementById('time').textContent = currentTime;
        }

        document.addEventListener('keydown', function(event) {
            switch(event.key) {
                case 'ArrowUp':
                    movePlayer(0, -5);
                    break;
                case 'ArrowDown':
                    movePlayer(0, 5);
                    break;
                case 'ArrowLeft':
                    movePlayer(-5, 0);
                    break;
                case 'ArrowRight':
                    movePlayer(5, 0);
                    break;
            }
            draw();
        });

        // Handle touch events for mobile devices
        document.addEventListener('touchstart', function(event) {
            const rect = canvas.getBoundingClientRect();
            const touchX = event.touches[0].clientX - rect.left;
            const touchY = event.touches[0].clientY - rect.top;
            const dx = touchX - playerX;
            const dy = touchY - playerY;
            if (Math.abs(dx) > Math.abs(dy)) {
                movePlayer(dx > 0 ? 5 : -5, 0);
            } else {
                movePlayer(0, dy > 0 ? 5 : -5);
            }
            draw();
        });

        startTime = Date.now();
        setInterval(updateTime, 1000); // Update time every second
        draw(); // Initial drawing
    </script>
</body>
</html>
